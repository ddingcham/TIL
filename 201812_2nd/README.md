# 201812_2nd
### DDD에 대한 내용을 바탕으로 Mayak 리팩토링  
[repo](https://github.com/ddingcham/MayakAgain)  

## 20181210
### 계획
1. 공부했던 거 몇 가지 복습, 다시 보기
2. AGGREGATE 정리 및 테스트 / ENTITIY 리팩토링

### 기록
1. 알고리즘 공부한 게 기억이 가물가물한 이유  
[새기기 _ 김창준님의 공부하는 방법](http://cafe.daum.net/_c21_/bbs_search_read?grpid=LtXl&fldid=AoDe&datanum=6)
```
Study/acmicpc 폴더에 보면 작년 봄/여름 동안 풀었던 알고리즘 문제들이 70여개 정도 있다.
(일회성 공부가 되기 싫어서 아마 노트에 풀이과정도 정리하고, 다시풀기도 했던거 같다.)

이번에 기술면접을 준비하느라 자료구조/알고리즘 지식을 되돌아 보는데,
한 방에 기억 나는 거 없이, 자료를 보면 그제서야 머리속에서 줄줄이 기억이 난다.

나름 열심히 했는데, 왜 그런지 고민하다가 공감되는 글이 있었다.
(아마도 체계적으로 한다고 자료구조/알고리즘 단원별로 나눠서 훈련한게 오히려 독이 된거 같다.)
(이게 망치의 오류인가 보다 -> 차라리 랜덤으로 풀 걸)

그렇다고 근래에 알고리즘/자료구조를 따로 공부할 계획은 없다.
대신 redis는 방학동안 무조건 적용해볼 거고 그 때 고민해야 겠다.
리팩토링하면서 일급콜렉션에 대한 고민도 많이 해야겠다.
```

2. 루즈해지니까 제약사항을 주자  
  // 금요일까지 ENTITIY 관련된 작업 끝내기  
## 20181211
### 계획
1. AGGREGATE 정리 및 테스트 / ENTITIY 리팩토링

### 기록
1. 이상 발견, 해결
* [이상](https://github.com/ddingcham/MayakAgain/commit/6ac59eda02e8a5786d8580e700bf3d1c8dd3f220)  
* [해결위한참고](https://www.slideshare.net/javajigi/orm-27141159)  
  * 37, 38, 39 슬라이드  
  > 기존 잘못된 Entity 매핑을 기반으로 (도메인 주도에 대한 이해 부족)  
  > 개별 AGGREGATE 로직 구현을 진행하다 보니, 다시 꼬이려는 상황이 발생함  
  ```
  <도메인 주도 설계 개발 과정>
  1. 객체(도메인) 설계
  2. 비즈니스 로직 구현
  3. 객체와 테이블 매핑
  
  특히 1-2 과정은 1을 완성시키고 2를 진행하는 과정으로 보기 보다는
  Aggregate 분석에 기반해서 1에 대한 청사진만 그린 후
  테스트를 토대로 2를 진행하면서 점차 1을 완성(리팩)시켜야 될 것 같다.
  ```
  
  * **추가적인 고려사항**  
    ENTITIY 간 관계 매핑 시 주도권에 대한 기준은 요구사항(도메인 용어 적용)을  
    바탕으로 하지만, 어느 AGGREGATE냐에 따라 계층의 높낮이 구조는 변경될 수 있을 것 같다.
    (높은 애가 주도권을 갖는다고 가정할 때)
    높낮이 구조 변경에 따라, 양방향 매핑이 고려될 수도 있다고 판단된다.  
    (지양해야되는 건 맞지만 괜히 지원하는 게 아니다.)
