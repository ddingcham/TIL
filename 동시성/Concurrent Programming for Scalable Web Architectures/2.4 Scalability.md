# Concurrent Programming for Scalable Web Architectures  

## 2.4 Scalability  

### Intro  
#### Scalability 는 시스템의 비기능적 요소 : 작업 부하 증감에 따라 유연하게 처리량(=비용)을 조절  
a system is described as scalable, if it will remain effective when there is a significant increase
* in the number of resources  
* in the number of users  
> DOLLIMORE, Jean; KINDBERG, Tim COULOURIS, George:  
> Distributed Systems: Concepts and Design (4th Edition), Addison Wesley (2005)  

#### 때때로 확장성은 시스템 구축 초기부터 분산시스템 적용을 필요로 함  

#### 확장성은 기본적인 처리 속도나 퍼포먼스를 의미하는 게 아님  
> **"수평"** / 수직 확장 가능하게 전체 관점에서의 시스템 요소들의 메타포(추상화)를 뽑아내느냐/분리하느냐의 문제라는 건가?  
> 그 때 DDD/SOA/MSA 같은 개념들을 반영해서 디자인 해나가는 거고  
> [확장성에 대한 전략 결정](https://docs.oracle.com/cd/E19636-01/819-3452/aavfl/index.html)  
> [Scale up 과 Scale out 적용을 잘못 사용한 사례](https://idchowto.com/?p=29915)  
  >> 확장성은 대개 시스템 자원을 추가하지만 배포 구조는 변경하지 않고 시스템에 용량을 추가할 수 있는 기능을 말합니다.  

#### 확장성은 가용성(availability)/안정성(reliability)/성능(performance) 같은 다른 비기능적 요소들과 "상호 보완/경쟁"  

### Horizontal and Vertical Scalability  
> // 수직 / 수평 확장  
> "그림으로 보는 IT 인프라 구조" 보면 하드웨어 인프라 베이스로 설명되있는데, 똑같은 개념임    

* 수직확장 : Vertical Scaling  
  > additional resources are added to a **single node**.  
  > node can then handle more work and provides additional capacities.  
  > more or faster "CPUs / memory / virtualized instances / physical shares of the underlying machine"  
  
* **수평확장 : Horizontal scaling**
  > adds more nodes to the 전체 시스템  
  
#### Both scaling variants have different impacts on the system.  
* Vertical Scaling  
  * almost directly speeds up the system  
  * rarely needs special application customizations  
  * **however, vertical scaling is obviously limited by factors**  
    > 비용 효율성 : cost effectiveness  
    > 물리적 제약 : physical constraints  
    > 특수 하드웨어의 가용성 : availability of specialized hardware  
    
* Horizontal scaling  
  * 시스템 내에 some kind of inherent distribution 를 요구  
    > 걍 예를 들면 L4 같은 걸로 로드밸런싱 하는 의미 인듯  
  * If the system cannot be extended to multiple machines, it couldn't benefit from this type of scaling  
    > 수평확장을 고려한 설계의 중요성  
  * But if the system does support horizontal scaling,  
    > it can be theoretically enlarged to thousands of machines.  
    > 엘라스틱서치의 클러스터링 / 노드별 역할 공부했던 거  
  * **horizontal scaling is important for large-scale architectures.**  
    > 트래픽 / 사용자는 항상 일정한 게 아님, 따라서 걍 확장성이 아닌 **유연한 확장성**이 필요한거  
    > ex] 시스템의 많이 사용하는 부분만 확장할 수 있게  
  * low cost machines(범용적으로 쓰이는 거 겟지) 이 전문적인 머신에 비해 **비용도 줄이고, "이상"을 예상하기도 쉬움**  
  
#### Considering a web server  
* The allocation of more available system resources // improves its capacities  
* New hardware can provide speed ups under heavy load  
* **Following the horizontal approach**, 
  > we setup additional web servers and distribute incoming request to one of the servers.  
  > 그 추가된 웹서버에 부하를 분산 시켜주는 부분은 당연히 필요.  
