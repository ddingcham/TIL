# 201811_2nd
TDD 토이 프로젝트 리팩토링 중 학습 필요성을 느껴서 조영호님의 DDD 시리즈 시작
1. 전체 내용 정리 및 예제 학습
 - 요구사항 분석, 도메인 설계 학습 목적 
2. 테스트 코드도 추가해보기
3. Spring Boot, Spring Data JPA 프레임워크 적용

## 20181111
### 계획
* 2.AGGREGATE와 REPOSITORY 3부, 4부  
  // Test First 구현 과정을 TDD 학습했던 거랑 연관지어서 공부하기

### 기록

## 20181112
### 계획
* 2.AGGREGATE와 REPOSITORY 5부  
* 3.Dependency Injection 과 Aspect Oriented Programming 1,2부

### 기록
* 프레임워크를 사용하면서 궁금했던 점, 어려웠던 점에 대한 실마리 찾은 느낌  
```
프레임워크를 사용하면 좋은 점 중 하나가 객체 생성 주기에 대한 관리를 대신 해주는 것이다.
나는 주로 웹 어플리케이션 백엔드 개발을 위해 프레임워크를 사용했었다. 
근데 여기서 헷갈리는 점은 과연 프레임워크가 관리해주는 객체 생성 주기가 내 예상대로 관리 되는 지였다.

// ex] 여러 개의 같은 요청에 대해서 도메인 객체들을 어떤 식으로 관리 해야할 지....
//     이 부분에 대한 명확한 전제 조건이 없으니까
//     요구사항, 기능에 대한 로직을 생각할 때 어려움을 많이 겪었다.  
//     기능 자체는 단순하더라도, 뭔가 잘못된 부분이 있을 것만 같은 느낌적인 느낌?  
//     이상이 없을 때도 있었지만 (못 찾은 거 일수도) 불안한 마음 때문에 작업 효율이 많이 떨어졌었다.

프레임워크가 제공해주는 방식들 자체는 어렵지 않게 찾을 수 있었지만
내가 하는 작업의 요구사항에 대해서 생성 주기를 어떤 식으로 관리해야 할 지에 대해서 무지하다보니까,
단편적으로만 이해할 수 있었을 뿐, 실제로 어떻게 활용할 지에 대해서는 생각해 내기가 쉽지 않았다.

이번에 DDD 시리즈 2탄 까지 학습하면서 위에 경험에 대해서 어떤 식으로 접근해야 될 지에 대한 인사이트를 얻을 수 있었다.  
(기술적으로 어려운 내용은 아니지만(착각??)... 뭔가 문제를 분석하는 데 도움이 되기 위해 정의해나간 전제들과 용어들, 그리고 접근 방식)
물론 진짜 내 지식이 되려면 이번에 느낀 점들을 의식하면서 실제로 개발을 할 때 같이 생각해 봐야겠지만....
```

* 학습 진행을 위해 Spring Boot 기반으로 예제 코드 바꿔야겠음  

## ------------예비군------------

## 20181115
### 계획
* 3.Dependency Injection 과 Aspect Oriented Programming 3,4,5부
* 3.Dependency Injection 과 Aspect Oriented Programming 6,7부  
  * java 코드 기반 설정  
* 4.ORM과 투명한 영속성 1,2부

### 기록
* AOP - LTW 적용 설정 java code 버전  
  * [java 기반 AOP - AspectJ - LTW](https://github.com/ddingcham/ORMWithDDD/commit/20eb282b97d51f46cc172fab5064da8285d8e387)  
  * 단, 이 때도 JVM 실행시 LTW를 위한 javaagent 옵션 설정은 필수이다. // spring-instrument 적용

* 어노테이션 과 POJO
  * [코드의 미학과 DI Inversion](http://toby.epril.com/?p=974) // Toby님 블로그  
  * [XML vs. annotations: which is better in Spring? Why?](https://www.quora.com/XML-vs-annotations-which-is-better-in-Spring-Why)
    이거 두개 읽고 생각 정리
    ```
    "Spring은 비침투적인 pojo 기반 개발을 지원하는 경량 프레임워크다."
    스프링을 공부해오면서 가장 큰 고민을 주었던 문장이다.
    
    스프링은 크게 세 가지 방식으로 메타 데이터 설정을 지원한다.
    1. XML
    2. Annotation
    3. 자바 코드
    물론 XML이 크진 않아도 더 많은 부분을 지원하지만,
    학습하는 사람의 입장에서는 Annotation이나 자바코드만으로도 대부분의 설정을 할 수 있다.
    
    내가 스프링을 학습하면서 가장 크게 주안점을 두었던 부분은
    스프링의 다양한 설정이나 기능들에 대해서 경험하는 것보다는    
    유연한 어플리케이션 개발을 위해 스프링을 어떤 식으로 활용하는 지 였다.
    
    위와 같은 목표의 학습 과정에서 가장 큰 고민 중 하나는
    메타데이터 설정 방식을 어떤 식으로 할 것인가 였다. 
    비록 학습, 성장을 위해서 스프링을 사용하지만,
    적어도 무언가 통일적인 규약을 두고 개발을 하고 싶었고,
    그러한 규약을 정할 때도 내가 납득할 수 있는 뚜렷한 이유를 갖고 정하고 싶었다.
    여기서 내가 가이드라인으로 삼았던 것 중 하나가
    "Spring은 비침투적인 pojo 기반 개발을 지원하는 경량 프레임워크다"
    이 문장이다.
    
    내가 작성한 코드 중 비즈니스 로직에 해당하는 부분들이
    프레임워크나 특정 기술에 의한 제약을 받지 않으면서,
    프레임워크의 기능은 적용할 수 있도록 하는 데 초점을 맞추다 보니
    XML과 자바 코드로 외부로 설정을 돌리는 쪽으로 눈이 돌아갔다.
    
    하지만 실제로 프로젝트를 하다보면,
    계속해서 보고있는 화면을 전환하면서 개발을 해야하고,
    설정을 잘못 기억하거나 안했는데 했다고 착각하는 바람에
    사소한 이슈들에 발목 잡히는 상황이 발생했다.
    
    굳이 pojo 라는 개념에 자체에 목메야 하나? 이런 생각이 들었고,
    테크캠프에서 Annotation 방식을 주로 사용하면서
    새로운 경험을 하게 되었고, 생각도 바뀌었다.
    
    내가 주목해야 할 것은 
    "아 나는 프레임워크에 대한 의존성이 제거된 깔끔한 코드를 작성했어"
    가 아니었다.
    오히려 중요한 문제는 나의 설계와 실제 작성한 코드들,
    작업을 구상/수행하는 과정에 대한 역량이었다. 
    
    위의 바뀐 생각은 이번에 조영호님의 포스트들을 공부하고, 고민하면서
    체계화되었다.
    
    결론은
    "소프트웨어 개발의 복잡성은 본질적인 특성에 기인한 것이지
    비본질적인 특성에 기인한 것이 아니다. _ Fredy Brooks"
    => 기술이나 개념은 소프트웨어의 가치(사용자)를 위한 도구일 뿐이다
    그 속에서 발생하는 각종 트레이드 오프들을
    비교하고, 선택하고, 실제 행동할 수 있는 역량을 기르자.
    (매몰되 버리지 말자!)
    ```

## 20181116
### 계획
* 4.ORM과 투명한 영속성 3부  
* 어노테이션과 pojo에 대한 생각 정리  

### 기록
* 네이버 핵데이 결과가 나와서 핵데이 관련된 것들을 다시 살펴봤다.  
  테크캠프 끝난 지 두 달만에 개발에 대한 생각을 넓힐 기회가 또 왔다.  
  아직 내껄로 다 소화시키기는 커녕 다시 맛만 보고 있는데 공부할 거리 부자가 됬다
  
  
## 20181117
### 계획
* 4.ORM과 투명한 영속성 4,5,6,7,8부  
* jojoldu님 블랙잭코드   

### 기록
* Mayack 리팩토링 제약사항  
  * 초기에 Java 와 RDBMS를 사용하지 않는 다는 가정하에 도메인 분석해보기  
    > 소프트웨어 문제의 본질을 다루는 도전,  
    > 즉 복잡한 개념적 구조를 체계화하는 것을 우선적으로 고려해야 한다.  
    > 이걸 경험해보자

* ORM, DDD에서의 REPOSITORY, 1차 캐시 관련해서 정리할 거
https://stackoverflow.com/questions/2963819/why-use-your-application-level-cache-if-database-already-provides-caching
https://stackoverflow.com/questions/3029952/ddd-and-mvc-difference-between-model-and-entity/4928524#4928524
https://stackoverflow.com/questions/646897/object-integrity-and-caching-in-a-stateful-client/646900#646900
 * persistence 관점에서는 성능
 * 클라이언트 입장에서 성능을 위한 고려 대상으로 삼는건 X

* Transaction Isolation Level 정리할   
https://www.techopedia.com/definition/24042/transaction-isolation-level  

* 연속적인 학습에서의 과정의 
